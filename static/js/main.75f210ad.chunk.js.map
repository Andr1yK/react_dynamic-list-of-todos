{"version":3,"sources":["StatusQuery.ts","components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["StatusQuery","TodoList","memo","todos","onSelectUser","selectedUserId","onSelectStatus","useState","visibleTodos","setVisibleTodos","useEffect","className","type","onChange","event","tilteQuery","newTodos","filter","title","toLowerCase","includes","filterTodos","target","value","name","id","all","active","completed","length","map","userId","htmlFor","readOnly","checked","onClick","request","url","fetch","then","response","json","CurrentUser","onClear","user","setUser","error","setError","clear","useCallback","data","catch","err","message","email","phone","App","setSelectedUserId","setTodos","tasksStatusFilter","setTasksStatusFilter","getTodo","status","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75f210ad.chunk.js","sourcesContent":["export enum StatusQuery {\n  all = 'null',\n  active = 'false',\n  completed = 'true',\n}\n","import React, {\n  ChangeEvent, memo, useEffect, useState,\n} from 'react';\nimport '../../styles/general.scss';\nimport { StatusQuery } from '../../StatusQuery';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[],\n  onSelectUser: CallableFunction;\n  onSelectStatus: CallableFunction;\n  selectedUserId: number,\n};\n\nexport const TodoList: React.FC<Props> = memo(({\n  todos, onSelectUser, selectedUserId, onSelectStatus,\n}) => {\n  const [visibleTodos, setVisibleTodos] = useState<Todo[]>(todos);\n\n  const filterTodos = (tilteQuery: string) => {\n    const newTodos = todos.filter(({ title }) => {\n      return title.toLowerCase().includes(tilteQuery.toLowerCase());\n    });\n\n    setVisibleTodos(newTodos);\n  };\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => filterTodos(event.target.value);\n\n  useEffect(() => setVisibleTodos(todos), [todos]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <input\n        type=\"text\"\n        className=\"input input--center input--outline\"\n        onChange={handleChange}\n      />\n\n      <select\n        name=\"status\"\n        className=\"input input--one-line\"\n        id=\"statusSelector\"\n        onChange={(event) => onSelectStatus(event.target.value)}\n      >\n        <option value={StatusQuery.all}>all</option>\n        <option value={StatusQuery.active}>active</option>\n        <option value={StatusQuery.completed}>completed</option>\n      </select>\n\n      <div className=\"TodoList__list-container\">\n        {visibleTodos.length ? (\n          <ul className=\"TodoList__list\">\n            {visibleTodos.map(({\n              completed, title, userId, id,\n            }) => (\n              <li\n                key={id}\n                className={`\n                  TodoList__item\n                  TodoList__item--${completed ? 'checked' : 'unchecked'}\n                `}\n              >\n                <label htmlFor=\"completed\">\n                  <input\n                    id=\"completed\"\n                    type=\"checkbox\"\n                    readOnly\n                    checked={completed}\n                  />\n                  <p>{title}</p>\n                </label>\n\n                <button\n                  className={`\n                    TodoList__user-button\n                    ${selectedUserId !== userId && 'TodoList__user-button--selected'}\n                    button\n                  `}\n                  type=\"button\"\n                  onClick={onSelectUser(userId)}\n                >\n                  User&nbsp;\n                  {userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>Not found</p>\n        )}\n\n      </div>\n    </div>\n  );\n});\n","const BASE_URL = 'https://mate.academy/students-api';\n\nconst request = (url: string) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => response.json());\n};\n\nexport const getTodo = (params = '') => request(`/todos?${params}`);\n\nexport const getUser = (id: number) => request(`/users/${id}/`);\n","import React, {\n  useEffect, useState, memo, useCallback,\n} from 'react';\nimport { getUser } from '../../api/api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number,\n  onClear: () => void,\n};\n\nexport const CurrentUser: React.FC<Props> = memo(({ userId, onClear }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const clear = useCallback(() => {\n    setUser(null);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    clear();\n\n    getUser(userId)\n      .then(data => setUser(data))\n      .catch(err => setError(err.message));\n  }, [userId]);\n\n  return (\n    user ? (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>{`Selected user: ${user.id}`}</span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">{user.name}</h3>\n        <p className=\"CurrentUser__email\">{user.email}</p>\n        <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n        <button\n          onClick={onClear}\n          className=\"button CurrentUser__button CurrentUser___lear\"\n          type=\"button\"\n        >\n          Clear\n        </button>\n      </div>\n    ) : (\n      <p>{error ? 'Error' : 'LOADING...'}</p>\n    )\n  );\n});\n","import React, {\n  memo, useCallback, useEffect, useState,\n} from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodo } from './api/api';\nimport { StatusQuery } from './StatusQuery';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState(0);\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [tasksStatusFilter, setTasksStatusFilter] = useState(StatusQuery.all);\n\n  useEffect(() => {\n    const query = tasksStatusFilter !== StatusQuery.all\n      ? `completed=${tasksStatusFilter}`\n      : '';\n\n    getTodo(query)\n      .then(data => setTodos(data));\n  }, [tasksStatusFilter]);\n\n  const onSelectUser = useCallback((userId: number) => () => setSelectedUserId(userId), []);\n  const onSelectStatus = useCallback((status: StatusQuery) => setTasksStatusFilter(status), []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          onSelectUser={onSelectUser}\n          selectedUserId={selectedUserId}\n          onSelectStatus={onSelectStatus}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser userId={selectedUserId} onClear={onSelectUser(0)} />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(App);\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}